<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<title>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå | Run fast food</title>
<meta name="viewport" content="width=device-width,initial-scale=1">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
body{
    font-family:Inter,system-ui,sans-serif;
    background:#f8f6f4;
    margin:0;
    padding:20px;
}
.status-box{
    max-width:420px;
    margin:40px auto;
    background:#fff;
    border-radius:18px;
    padding:26px;
    box-shadow:0 10px 30px rgba(0,0,0,0.1);
}
.status-box h1{
    text-align:center;
    color:#ff7a29;
    margin-bottom:20px;
}
.status-step{
    display:flex;
    align-items:flex-start;
    gap:14px;
    padding:14px 10px;
    border-radius:14px;
    margin-bottom:14px;
    background:#f3f3f3;
    opacity:0.4;
}
.status-step.active{
    background:linear-gradient(90deg,#ff9a4f,#ff7a29);
    color:#fff;
    opacity:1;
}
.status-step.done{
    background:#dff5e3;
    color:#1f7a3f;
    opacity:1;
}
.status-step i{
    font-size:22px;
    margin-top:2px;
}
.timer{
    font-size:13px;
    margin-top:4px;
    font-weight:600;
}
.back-link {
            display: inline-block;
            color: #FF8C42;
            font-size: 1.1em;
            margin-bottom: 15px;
            text-decoration: none;
            font-weight: bold;
}
</style>
</head>

<body>

<div class="status-box">
    <h1>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏≠‡∏≤‡∏´‡∏≤‡∏£</h1>
     <a href="cart.html" class="back-link"> ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏°‡∏ô‡∏π</a>

    <div class="status-step" id="step1">
        <i class="fa-solid fa-fire"></i>
        <div>
            <div>‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏≠‡∏≤‡∏´‡∏≤‡∏£</div>
            <div class="timer" id="timer1"></div>
        </div>
    </div>

    <div class="status-step" id="step2">
        <i class="fa-solid fa-utensils"></i>
        <div>
            <div>‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ó‡∏≥‡∏≠‡∏≤‡∏´‡∏≤‡∏£</div>
            <div class="timer" id="timer2"></div>
        </div>
    </div>

    <div class="status-step" id="step3">
        <i class="fa-solid fa-circle-check"></i>
        <div>
            <div>‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß</div>
            <div class="timer" id="timer3"></div>
        </div>
    </div>
</div>

<script>
/* ‡πÄ‡∏ß‡∏•‡∏≤‡∏Ç‡∏≠‡∏á‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏Ç‡∏±‡πâ‡∏ô (‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ) */
const steps = [
    { id: 1, time: 15 * 60 }, // ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏≠‡∏≤‡∏´‡∏≤‡∏£
    { id: 2, time: 8 * 60 }, // ‡∏ó‡∏≥‡∏≠‡∏≤‡∏´‡∏≤‡∏£
    { id: 3, time: 0 }        // ‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß
];

let currentStep = 0;
let remaining = steps[0].time;
let interval;

startStep();

/* ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ */
function startStep(){
    updateUI();
    interval = setInterval(countdown, 1000);
}

/* ‡∏ô‡∏±‡∏ö‡∏ñ‡∏≠‡∏¢‡∏´‡∏•‡∏±‡∏á */
function countdown(){
    if(remaining > 0){
        remaining--;
        updateTimer();
    }else{
        clearInterval(interval);
        document.getElementById('step'+steps[currentStep].id)
            .classList.add('done');

        currentStep++;

        if(currentStep < steps.length){
            remaining = steps[currentStep].time;
            updateUI();
            interval = setInterval(countdown, 1000);
        }
    }
}

/* ‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏ß‡∏•‡∏≤ */
function updateTimer(){
    const min = Math.floor(remaining / 60);
    const sec = remaining % 60;
    document.getElementById('timer'+steps[currentStep].id)
        .innerText = `‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡πÄ‡∏ß‡∏•‡∏≤ ${min}:${sec.toString().padStart(2,'0')} ‡∏ô‡∏≤‡∏ó‡∏µ`;
}

/* ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ */
function updateUI(){
    document.querySelectorAll('.status-step').forEach(s=>{
        s.classList.remove('active');
    });

    const stepEl = document.getElementById('step'+steps[currentStep].id);
    stepEl.classList.add('active');

    if(steps[currentStep].time > 0){
        updateTimer();
    }else{
        document.getElementById('timer3').innerText = '‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢ üéâ';
        playSound(); // üîî ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÄ‡∏™‡∏£‡πá‡∏à
    }
}

/* üîî ‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô */
function playSound(){
    const audioCtx = new (window.AudioContext || window.webkitAudioContext)();

    const gainNode = audioCtx.createGain();
    gainNode.gain.setValueAtTime(0.6, audioCtx.currentTime); // üîä ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏î‡∏±‡∏á
    gainNode.connect(audioCtx.destination);

    // ‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏ï‡∏¥‡πä‡∏á‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà 1
    const osc1 = audioCtx.createOscillator();
    osc1.type = 'square'; // square ‡∏à‡∏∞‡∏î‡∏±‡∏á‡πÅ‡∏•‡∏∞‡∏ä‡∏±‡∏î‡∏Å‡∏ß‡πà‡∏≤ sine
    osc1.frequency.setValueAtTime(1000, audioCtx.currentTime);
    osc1.connect(gainNode);
    osc1.start();
    osc1.stop(audioCtx.currentTime + 0.25);

    // ‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏ï‡∏¥‡πä‡∏á‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà 2 (‡∏™‡∏π‡∏á‡∏Ç‡∏∂‡πâ‡∏ô)
    const osc2 = audioCtx.createOscillator();
    osc2.type = 'square';
    osc2.frequency.setValueAtTime(1400, audioCtx.currentTime + 0.3);
    osc2.connect(gainNode);
    osc2.start(audioCtx.currentTime + 0.3);
    osc2.stop(audioCtx.currentTime + 0.6);
}
</script>

</body>
</html>
